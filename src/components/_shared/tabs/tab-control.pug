include ../link/index.pug


//-
  Ссылки для контролирования отображаемого контента табов
  props:
  - {string} name - название табов (должно быть одинаковым и для контроллов, и для контента) {base}
  - {boolean} active - активная вклдака
  - {string} wrapTag - тег родительского компонента {li|div}
  - {string} linkClasses - доп.классы для ссылки
  - {string} href - адрес ссылки
  - {string} variant - вариант стилей ссылки {primary|secondary|dark}
  - {boolean} disabled - заблокировать элемент
mixin tab-control(props={})
  - var BASE_CLASS = 'tab-control'
  - var LINK_BASE_CLASS = `${BASE_CLASS}__link`
  - var JS_CONTROL_CLASS = 'js-tabs-control'

  - var wrapTag = props.wrapTag || 'li'
  - var tabsName = props.name || 'base'

  - var wrapClasses = BASE_CLASS
  - var linkClasses = LINK_BASE_CLASS
  - classes += props.disabled ? ` ${BASE_CLASS}_disabled` : ''
  - classes += props.active ? ` ${BASE_CLASS}_active active` : ''
  - linkClasses += props.active ? ` ${LINK_BASE_CLASS}_active active` : ''
  - linkClasses += props.linkClass ? ` ${props.linkClass}` : ''
  - linkClasses += ` ${JS_CONTROL_CLASS}`


  - var linkProps = {
  -   href: props.href,
  -   variant: props.variant,
  -   disabled: props.disabled,
  -   class: linkClasses,
  -   title: props.title,
  -   "data-tabs-control": tabsName
  - }


  - delete props.name
  - delete props.active
  - delete props.wrapTag
  - delete props.linkClass
  - delete props.href
  - delete props.variant
  - delete props.disabled
  - delete props.title


  #{wrapTag}(class=wrapClasses)&attributes(props)
    +link(linkProps)
      block
